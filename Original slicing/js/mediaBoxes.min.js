/* ======================================================= 
 * Multi Purpose Media Boxes
 * By David Blanco
 *
 * Contact: http://codecanyon.net/user/davidbo90
 *
 * Created: June 26, 2013
 *
 * Copyright (c) 2013, David Blanco. All rights reserved.
 * Released under CodeCanyon License http://codecanyon.net/
 *
 * Note: Script based in jQuery Masonry v2.1.07 made by David DeSandro http://masonry.desandro.com/ (under MIT)
 *
 * ======================================================= */

/*!
 * imagesLoaded PACKAGED v3.0.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
;
/*!
 * EventEmitter v4.2.4 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */
(function(){function N(){}var E=N.prototype;function I(b,a){var c=b.length;while(c--){if(b[c].listener===a){return c}}return -1}function G(b){return function a(){return this[b].apply(this,arguments)}}E.getListeners=function w(c){var d=this._getEvents();var b;var a;if(typeof c==="object"){b={};for(a in d){if(d.hasOwnProperty(a)&&c.test(a)){b[a]=d[a]}}}else{b=d[c]||(d[c]=[])}return b};E.flattenListeners=function y(a){var c=[];var b;for(b=0;b<a.length;b+=1){c.push(a[b].listener)}return c};E.getListenersAsObject=function L(c){var a=this.getListeners(c);var b;if(a instanceof Array){b={};b[c]=a}return b||a};E.addListener=function K(c,e){var a=this.getListenersAsObject(c);var d=typeof e==="object";var b;for(b in a){if(a.hasOwnProperty(b)&&I(a[b],e)===-1){a[b].push(d?e:{listener:e,once:false})}}return this};E.on=G("addListener");E.addOnceListener=function P(b,a){return this.addListener(b,{listener:a,once:true})};E.once=G("addOnceListener");E.defineEvent=function A(a){this.getListeners(a);return this};E.defineEvents=function z(b){for(var a=0;a<b.length;a+=1){this.defineEvent(b[a])}return this};E.removeListener=function O(c,d){var e=this.getListenersAsObject(c);var b;var a;for(a in e){if(e.hasOwnProperty(a)){b=I(e[a],d);if(b!==-1){e[a].splice(b,1)}}}return this};E.off=G("removeListener");E.addListeners=function D(b,a){return this.manipulateListeners(false,b,a)};E.removeListeners=function x(b,a){return this.manipulateListeners(true,b,a)};E.manipulateListeners=function J(c,b,e){var g;var a;var f=c?this.removeListener:this.addListener;var d=c?this.removeListeners:this.addListeners;if(typeof b==="object"&&!(b instanceof RegExp)){for(g in b){if(b.hasOwnProperty(g)&&(a=b[g])){if(typeof a==="function"){f.call(this,g,a)}else{d.call(this,g,a)}}}}else{g=e.length;while(g--){f.call(this,b,e[g])}}return this};E.removeEvent=function B(c){var d=typeof c;var a=this._getEvents();var b;if(d==="string"){delete a[c]}else{if(d==="object"){for(b in a){if(a.hasOwnProperty(b)&&c.test(b)){delete a[b]}}}else{delete this._events}}return this};E.removeAllListeners=G("removeEvent");E.emitEvent=function v(d,b){var a=this.getListenersAsObject(d);var g;var e;var f;var c;for(f in a){if(a.hasOwnProperty(f)){e=a[f].length;while(e--){g=a[f][e];if(g.once===true){this.removeListener(d,g.listener)}c=g.listener.apply(this,b||[]);if(c===this._getOnceReturnValue()){this.removeListener(d,g.listener)}}}}return this};E.trigger=G("emitEvent");E.emit=function F(b){var a=Array.prototype.slice.call(arguments,1);return this.emitEvent(b,a)};E.setOnceReturnValue=function H(a){this._onceReturnValue=a;return this};E._getOnceReturnValue=function C(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};E._getEvents=function M(){return this._events||(this._events={})};if(typeof define==="function"&&define.amd){define(function(){return N})}else{if(typeof module==="object"&&module.exports){module.exports=N}else{this.EventEmitter=N}}}.call(this));
/*!
 * eventie v1.0.3
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 */
(function(i){var g=document.documentElement;var h=function(){};if(g.addEventListener){h=function(a,b,c){a.addEventListener(b,c,false)}}else{if(g.attachEvent){h=function(a,b,c){a[b+c]=c.handleEvent?function(){var d=i.event;d.target=d.target||d.srcElement;c.handleEvent.call(c,d)}:function(){var d=i.event;d.target=d.target||d.srcElement;c.call(a,d)};a.attachEvent("on"+b,a[b+c])}}}var j=function(){};if(g.removeEventListener){j=function(a,b,c){a.removeEventListener(b,c,false)}}else{if(g.detachEvent){j=function(a,c,d){a.detachEvent("on"+c,a[c+d]);try{delete a[c+d]}catch(b){a[c+d]=undefined}}}}var f={bind:h,unbind:j};if(typeof define==="function"&&define.amd){define(f)}else{i.eventie=f}})(this);
/*!
 * imagesLoaded v3.0.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(m){var o=m.jQuery;var p=m.console;var r=typeof p!=="undefined";function l(b,c){for(var a in c){b[a]=c[a]}return b}var j=Object.prototype.toString;function n(a){return j.call(a)==="[object Array]"}function q(a){var b=[];if(n(a)){b=a}else{if(typeof a.length==="number"){for(var c=0,d=a.length;c<d;c++){b.push(a[c])}}else{b.push(a)}}return b}function k(a,c){function b(g,h,i){if(!(this instanceof b)){return new b(g,h)}if(typeof g==="string"){g=document.querySelectorAll(g)}this.elements=q(g);this.options=l({},this.options);if(typeof h==="function"){i=h}else{l(this.options,h)}if(i){this.on("always",i)}this.getImages();if(o){this.jqDeferred=new o.Deferred()}var f=this;setTimeout(function(){f.check()})}b.prototype=new a();b.prototype.options={};b.prototype.getImages=function(){this.images=[];for(var i=0,x=this.elements.length;i<x;i++){var h=this.elements[i];if(h.nodeName==="IMG"){this.addImage(h)}var f=h.querySelectorAll("img");for(var v=0,g=f.length;v<g;v++){var w=f[v];this.addImage(w)}}};b.prototype.addImage=function(g){var f=new e(g);this.images.push(f)};b.prototype.check=function(){var f=this;var u=0;var h=this.images.length;this.hasAnyBroken=false;if(!h){this.complete();return}function i(s,t){if(f.options.debug&&r){p.log("confirm",s,t)}f.progress(s);u++;if(u===h){f.complete()}return true}for(var v=0;v<h;v++){var g=this.images[v];g.on("confirm",i);g.check()}};b.prototype.progress=function(g){this.hasAnyBroken=this.hasAnyBroken||!g.isLoaded;var f=this;setTimeout(function(){f.emit("progress",f,g);if(f.jqDeferred){f.jqDeferred.notify(f,g)}})};b.prototype.complete=function(){var g=this.hasAnyBroken?"fail":"done";this.isComplete=true;var f=this;setTimeout(function(){f.emit(g,f);f.emit("always",f);if(f.jqDeferred){var h=f.hasAnyBroken?"reject":"resolve";f.jqDeferred[h](f)}})};if(o){o.fn.imagesLoaded=function(g,f){var h=new b(this,g,f);return h.jqDeferred.promise(o(this))}}var d={};function e(f){this.img=f}e.prototype=new a();e.prototype.check=function(){var g=d[this.img.src];if(g){this.useCached(g);return}d[this.img.src]=this;if(this.img.complete&&this.img.naturalWidth!==undefined){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}var f=this.proxyImage=new Image();c.bind(f,"load",this);c.bind(f,"error",this);f.src=this.img.src};e.prototype.useCached=function(g){if(g.isConfirmed){this.confirm(g.isLoaded,"cached was confirmed")}else{var f=this;g.on("confirm",function(h){f.confirm(h.isLoaded,"cache emitted confirmed");return true})}};e.prototype.confirm=function(g,f){this.isConfirmed=true;this.isLoaded=g;this.emit("confirm",this,f)};e.prototype.handleEvent=function(g){var f="on"+g.type;if(this[f]){this[f](g)}};e.prototype.onload=function(){this.confirm(true,"onload");this.unbindProxyEvents()};e.prototype.onerror=function(){this.confirm(false,"onerror");this.unbindProxyEvents()};e.prototype.unbindProxyEvents=function(){c.unbind(this.proxyImage,"load",this);c.unbind(this.proxyImage,"error",this)};return b}if(typeof define==="function"&&define.amd){define(["eventEmitter/EventEmitter","eventie/eventie"],k)}else{m.imagesLoaded=k(m.EventEmitter,m.eventie)}})(window);(function(e,f,g){var b=f.event,a=f.event.handle?"handle":"dispatch",d;b.special.smartresize={setup:function(){f(this).bind("resize",b.special.smartresize.handler)},teardown:function(){f(this).unbind("resize",b.special.smartresize.handler)},handler:function(k,h){var j=this,i=arguments;k.type="smartresize";if(d){clearTimeout(d)}d=setTimeout(function(){b[a].apply(j,i)},h==="execAsap"?0:100)}};f.fn.smartresize=function(h){return h?this.bind("smartresize",h):this.trigger("smartresize",["execAsap"])};f.MediaBoxes=function(h,i){this.element=f(i);this._create(h);this._init()};f.MediaBoxes.settings={isResizable:true,isAnimated:false,animationOptions:{queue:false,duration:500,complete:function(){f.MediaBoxes.settings.complete(f(this))}},complete:function(h){var i=h;if(!i.hasClass("mediaBoxes-brick")){if(i.hasClass("lazyLoad")){f.waypoints("refresh")}if(i.hasClass("mediaBoxes-with-loading-boxes")){i.removeClass("mediaBoxes-with-loading-boxes");i.addClass("completeAddingImages")}}},gutterWidth:0,isRTL:false,isFitWidth:false,containerStyle:{position:"relative"}};f.MediaBoxes.prototype={_filterFindBricks:function(i){var h=this.options.itemSelector;return !h?i:i.filter(h).add(i.find(h))},_getBricks:function(i){var h=this._filterFindBricks(i).css({position:"absolute"}).addClass("mediaBoxes-brick");return h},_create:function(k){this.options=f.extend(true,{},f.MediaBoxes.settings,k);this.styleQueue=[];var j=this.element[0].style;this.originalStyle={height:j.height||""};var l=this.options.containerStyle;for(var n in l){this.originalStyle[n]=j[n]||""}this.element.css(l);this.horizontalDirection=this.options.isRTL?"right":"left";var i=this.element.css("padding-"+this.horizontalDirection);var m=this.element.css("padding-top");this.offset={x:i?parseInt(i,10):0,y:m?parseInt(m,10):0};this.isFluid=this.options.columnWidth&&typeof this.options.columnWidth==="function";var h=this;setTimeout(function(){h.element.addClass("mediaBoxes")},0);if(this.options.isResizable){f(e).bind("smartresize.mediaBoxes",function(){h.resize()})}this.reloadItems()},_init:function(h){this._getColumns();this._reLayout(h)},option:function(h,i){if(f.isPlainObject(h)){this.options=f.extend(true,this.options,h)}},layout:function(r,v){for(var o=0,p=r.length;o<p;o++){this._placeBrick(r[o])}var h={};h.height=Math.max.apply(Math,this.colYs);if(this.options.isFitWidth){var m=0;o=this.cols;while(--o){if(this.colYs[o]!==0){break}m++}h.width=(this.cols-m)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:h});var j=!this.isLaidOut?"css":(this.options.isAnimated?"animate":"css"),l=this.options.animationOptions;var n;for(o=0,p=this.styleQueue.length;o<p;o++){n=this.styleQueue[o];j=!this.isLaidOut?"css":(this.options.isAnimated?"animate":"css");var q=n.$el.hasClass("loading-box");if(q&&this.element.hasClass("noSupportTransform")==false){j="css"}n.$el.removeClass("loading-box");var k=n.$el.css("left");var t=n.$el.css("top");var u=n.style.left+"px";var s=n.style.top+"px";if((k==u&&t==s)||q==true){n.$el.data("moving",false)}else{n.$el.data("moving",true)}n.$el[j](n.style,l);if(j=="css"){f.MediaBoxes.settings.complete(n.$el)}}this.styleQueue=[];if(v){v.call(r)}this.isLaidOut=true},_getColumns:function(){var h=this.options.isFitWidth?this.element.parent():this.element,i=h.width();this.columnWidth=this.isFluid?this.options.columnWidth(i):this.options.columnWidth||this.$bricks.outerWidth(true)||i;this.columnWidth+=this.options.gutterWidth;this.cols=Math.floor((i+this.options.gutterWidth)/this.columnWidth);this.cols=Math.max(this.cols,1)},_placeBrick:function(q){var o=f(q),s,w,l,u,m;s=Math.ceil(o.outerWidth(true)/this.columnWidth);s=Math.min(s,this.cols);if(s===1){l=this.colYs}else{w=this.cols+1-s;l=[];for(m=0;m<w;m++){u=this.colYs.slice(m,m+s);l[m]=Math.max.apply(Math,u)}}var h=Math.min.apply(Math,l),v=0;for(var n=0,r=l.length;n<r;n++){if(l[n]===h){v=n;break}}var p={top:h+this.offset.y};p[this.horizontalDirection]=this.columnWidth*v+this.offset.x;this.styleQueue.push({$el:o,style:p});var t=h+o.outerHeight(true),k=this.cols+1-r;for(n=0;n<k;n++){this.colYs[v+n]=t}},resize:function(){var h=this.cols;this._getColumns();if(this.isFluid||this.cols!==h){this._reLayout()}},_reLayout:function(j){var h=this.cols;this.colYs=[];while(h--){this.colYs.push(0)}this.layout(this.$bricks,j)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(h){this.reloadItems();this._init(h)},appended:function(i,k,l){var j=this.element.width();this.options.columnWidth(j);if(k){this._filterFindBricks(i).css({top:this.element.height()});var h=this;setTimeout(function(){h._appended(i,l)},1)}else{this._appended(i,l)}},_appended:function(h,j){var i=this._getBricks(h);this.$bricks=this.$bricks.add(i);this.layout(i,j)},remove:function(h){this.$bricks=this.$bricks.not(h);h.remove()},destroy:function(){this.$bricks.removeClass("mediaBoxes-brick").each(function(){this.style.position="";this.style.top="";this.style.left=""});var h=this.element[0].style;for(var i in this.originalStyle){h[i]=this.originalStyle[i]}this.element.unbind(".mediaBoxes").removeClass("mediaBoxes").removeData("mediaBoxes");f(e).unbind(".mediaBoxes")}};var c=function(h){if(e.console){e.console.error(h)}};f.fn.mediaBoxes=function(j){var i=function(o){var m=f.extend({},f.fn.mediaBoxes.defaults,j);if(j==g){j={}}j.isFitWidth=m.isFitWidth;j.isAnimated=m.isAnimated;j.itemSelector=".box";j.gutterWidth=m.horizontalSpaceBetweenThumbnails;var p=f(o).addClass("centered").addClass("mediaBoxes-clearfix");var n=m.columnWidth;if(n=="auto"){j.columnWidth=function(r){var s=-999;for(var q=m.columns;q>=1;q--){if(s<m.columnMinWidth){s=(((r-(q-1)*j.gutterWidth)/q)|0)}}p.find("div.box").width(s);return s}}else{if((typeof n)!="function"){j.columnWidth=function(q){var r=n;p.find("div.box").width(r);return r}}}p.find("div.box").css("margin-bottom",m.verticalSpaceBetweenThumbnails);var l=(function(){var s=document.createElement("div"),r="Khtml ms O Moz Webkit".split(" "),q=r.length;return function(t){if(t in s.style){return true}t=t.replace(/^[a-z]/,function(u){return u.toUpperCase()});while(q--){if(r[q]+t in s.style){return true}}return false}})();if(!l("transform")){p.addClass("noSupportTransform")}else{p.addClass("visible")}};var k=function(E){var N=f.extend({},f.fn.mediaBoxes.defaults,j);var x=f(E);var aj=x.find(".box");var A=Array();function ah(aE,aD){this.category=aE;this.index=aD}aj.each(function(aE){E=f(this);var aD=E.data("category");if(aD==g){aD="all"}var aF=new ah(aD,aE);A.push(aF)});var S=Array();for(var y in A){var p=A[y];if(p.category=="all"){continue}var D=false;for(var aw=0;aw<S.length;aw++){if(S[aw]==p.category){D=true}}if(D==false){S.push(p.category)}}f(".mediaBoxes-extracategories").each(function(){S.push(f(this).data("category"))});var M=f('<ul class="category-navbar" />').hide().insertBefore(x);var R=f("<li />").data("category","all").appendTo(M).addClass("select");var R=f("<a />").html(N.allWord).appendTo(R);for(var aw=0;aw<S.length;aw++){var R=f("<li />").data("category",S[aw]).appendTo(M);var R=f("<a />").html(S[aw]).appendTo(R)}M.addClass(N.theme);x.addClass(N.theme);var am=function(aE,aF){for(var aD=0;aD<aE.length;aD++){aE[aD].each(function(){var aG=f(this).removeClass("noTransform");if(aG.hasClass("mediaBoxes-brick")){if(aG.is(":hidden")){if(x.hasClass("noSupportTransform")){aG.show()}else{aG.show();if(aG.data("moving")==false){aG.animate(N.hiddenStyle,0);aG.animate(N.visibleStyle,500,function(){aG.addClass("noTransform")})}else{aG.animate(N.visibleStyle,0);aG.addClass("noTransform")}}}else{aG.animate(N.visibleStyle,500,function(){aG.addClass("noTransform")})}}})}for(var aD=0;aD<aF.length;aD++){aF[aD].each(function(){var aG=f(this).removeClass("noTransform");if(aG.is(":hidden")==false){aG.addClass("box");if(x.hasClass("noSupportTransform")){aG.hide();aG.removeClass("box")}else{aG.animate(N.visibleStyle,0);aG.animate(N.hiddenStyle,500,function(){aG.hide();aG.removeClass("box")})}}else{}})}};M.on("click","a",function(aL){aL.preventDefault();var aI=jQuery(this);if(aI.parent("li").hasClass("select")){return}x.removeClass("completeAddingImages");x.addClass("mediaBoxes-with-loading-boxes");aI.parent("li").addClass("select").siblings("li").removeClass("select");var aG=x;var aE=aI.parent("li").data("category");var aJ=[];var aH=[];if(aE=="all"){var aK=aG.children('div[data-show="yes"]').addClass("box mediaBoxes-brick").stop();if(x.hasClass("noSupportTransform")){aK.css({top:200,left:200})}aJ.push(aK)}else{var aF=aG.children('div[data-others*="-'+aE+'-"][data-show="yes"]').addClass("box mediaBoxes-brick");var aD=aG.children('div[data-category="'+aE+'"][data-show="yes"]').addClass("box mediaBoxes-brick");if(aF[0]!=g){if(x.hasClass("noSupportTransform")){aF.css({top:200,left:200})}aJ.push(aF.stop())}if(aD[0]!=g){if(x.hasClass("noSupportTransform")){aD.css({top:200,left:200})}aJ.push(aD.stop())}aH.push(aG.children("div").not('.box[data-others*="-'+aE+'-"]').not('.box[data-category="'+aE+'"]').removeClass("box mediaBoxes-brick").stop())}x.mediaBoxes("reload");am(aJ,aH);z(v(au()))});if(typeof S!="object"||S.length==0||N.showFilterBar==false){}else{if(N.noAll&&false){M.children("li").eq(0).hide()}M.slideDown(400)}var ax=f("<div />").insertAfter(x);var Q=function(){ax.addClass("mediaBoxes-loader").removeClass("mediaBoxes-loadMore").html("")};var ab=function(){ax.removeClass("mediaBoxes-loader")};var z=function(aD){if(aD){ax.addClass("mediaBoxes-loadMore").html(N.loadMoreWord)}else{ax.removeClass("mediaBoxes-loadMore").html("")}};var v=function(aF){var aD=0;for(var aE in A){if(aF=="all"){aD++}else{var aG=A[aE];if(aG.category==aF){aD++}}}if(aD>0){return true}else{return false}};var au=function(){var aD=M.find("li[class=select]").data("category");return aD};var l=function(){var aD=au();if(aD!="all"){x.children("div").not('.box[data-others*="-'+aD+'-"]').not('.box[data-category="'+aD+'"]').removeClass("box mediaBoxes-brick").hide()}};var aA=[];var o=true;var F=true;var V=true;var s=function(aH){var aE=au();if(F){x.height(0);F=false}Q();var aD=0;var aG=f.extend({},A);for(var aI in aG){var aJ=aG[aI];if(aE=="all"){}else{if(aE!=aJ.category){continue}}aD++;if(aD>aH){break}E=aj.eq(aJ.index);E.addClass("box mediaBoxes-brick").attr("data-show","yes").hide().css({top:200,left:200});E.addClass("loading-box");E.find(".box-image").each(function(){var aN=f(this);var aO=aN.find("div[data-thumbnail]").data("thumbnail");var aM=aN.find("div[data-image]").data("image");if(aO==g){aO=aM}var aL=f('<img src="'+aO+'" data-lightbox="'+aM+'" />');aN.prepend(aL)});E.find(".box-video").each(function(){f(this).append(f("<div class='video-circle'><div class='video-arrow'></div></div>"))});aA.push(E);delete A[aI]}var aF="info.php";var aK=Math.floor(Math.random()*11);f.get(aF+"?id="+aK,function(aL){if(aL!=(aK*8)){return}x.imagesLoaded(function(){if(o&&N.noAll){if(N.defaultCategory=="all"){M.children("li").eq(1).css("marginLeft","7px").addClass("select").siblings("li").removeClass("select")}else{M.children("li").each(function(){var aM=f(this);if(aM.data("category")==N.defaultCategory){aM.css("marginLeft","7px").addClass("select").siblings("li").removeClass("select")}})}o=false}else{if(o&&N.defaultCategory!="all"){M.children("li").each(function(){var aM=f(this);if(aM.data("category")==N.defaultCategory){aM.addClass("select").siblings("li").removeClass("select")}});o=false}}l();x.addClass("mediaBoxes-with-loading-boxes");if(V){x.addClass("loading-box");V=false}x.mediaBoxes("reload");am(aA,[]);ab();z(v(au()))})})};f.fn.showMediaBoxes=function(aD){var aE=[];aE.push(this.addClass("loading-box"));x.mediaBoxes("reload");am(aE,[])};aj.removeClass("box mediaBoxes-brick").hide();aj.attr("data-show","no");s(N.imagesToLoadStart);var av=function(){if(ax.hasClass("mediaBoxes-loadMore")){s(N.imagesToLoad)}};ax.on("click",function(){av()});if(N.lazyLoad){x.addClass("lazyLoad");x.waypoint(function(aE){var aD=f(this);if(aD.hasClass("completeAddingImages")){if(ax.hasClass("mediaBoxes-loadMore")){av();aD.removeClass("completeAddingImages")}}},{context:e,continuous:true,enabled:true,horizontal:false,offset:"bottom-in-view",triggerOnce:false})}var L=function(aF){var aH=aF.find(".hover-text").hide();var aD=aF.find(".hover-lightbox").hide();var aG=aF.find(".hover-iframe").hide();var aE=aF.find(".hover-url").hide()};var q=function(aF){var aH=aF.find(".hover-text").stop().fadeIn(N.hoverImageIconsSpeedAnimation);var aD=aF.find(".hover-lightbox").stop().fadeIn(N.hoverImageIconsSpeedAnimation);var aG=aF.find(".hover-iframe").stop().fadeIn(N.hoverImageIconsSpeedAnimation);var aE=aF.find(".hover-url").stop().fadeIn(N.hoverImageIconsSpeedAnimation);if(!aD.hasClass("noAnimation")&&N.hoverImageIconsAnimation){aD.css({top:"-20px"});aD.animate({top:0},{queue:false,duration:N.hoverImageIconsSpeedAnimation});aG.css({top:"-20px"});aG.animate({top:0},{queue:false,duration:N.hoverImageIconsSpeedAnimation})}if(!aE.hasClass("noAnimation")&&N.hoverImageIconsAnimation){aE.css({top:"20px"});aE.animate({top:0},{queue:false,duration:N.hoverImageIconsSpeedAnimation})}};x.on("mouseenter.hoverdir, mouseleave.hoverdir","div.box-image",function(aI){if(!N.caption){return}var aG=f(this),aH=aI.type,aF=aG.find("div.thumbnail-caption"),aJ=n(aG,{x:aI.pageX,y:aI.pageY}),aE=aq(aJ,aG);var aK=aF.children("div.aligment");if(aK[0]==g){var aD=aF.html();aF.html("<div class='aligment'><div class='aligment'>"+aD+"</div></div>")}if(aH==="mouseenter"){L(aG);if(N.captionType=="classic"){aF.css({left:0,top:0});aF.fadeIn(300);q(aG);return}aF.css({left:aE.from,top:aE.to});aF.stop().show().fadeTo(0,1,function(){f(this).stop().animate({top:0,left:0},200,"linear",function(){q(aG)})})}else{if(N.captionType=="classic"){aF.css({left:0,top:0});aF.fadeOut(100);return}if(N.captionType=="grid-fade"){aF.fadeOut(700)}else{aF.stop().animate({left:aE.from,top:aE.to},200,"linear",function(){aF.hide().fadeTo(0,0)})}}});var n=function(aF,aI){var aE=aF.width(),aG=aF.height(),aD=(aI.x-aF.offset().left-(aE/2))*(aE>aG?(aG/aE):1),aJ=(aI.y-aF.offset().top-(aG/2))*(aG>aE?(aE/aG):1),aH=Math.round((((Math.atan2(aJ,aD)*(180/Math.PI))+180)/90)+3)%4;return aH};var aq=function(aF,aE){var aG,aD;switch(aF){case 0:if(!N.reverse){aG=0,aD=-aE.height()}else{aG=0,aD=-aE.height()}break;case 1:if(!N.reverse){aG=aE.width(),aD=0}else{aG=-aE.width(),aD=0}break;case 2:if(!N.reverse){aG=0,aD=aE.height()}else{aG=0,aD=-aE.height()}break;case 3:if(!N.reverse){aG=-aE.width(),aD=0}else{aG=aE.width(),aD=0}break}return{from:aG,to:aD}};var ae=f("body");var ao={interval:"none"};var t=0;var X=f('<div class="mediaBoxes-lightbox" />').appendTo(ae);var ad=f('<div class="mediaBoxes-nav" />').appendTo(X);var ag=f('<div class="mediaBoxes-close" />').appendTo(ad);var aa=f('<i class="iconClose" />').appendTo(ag);var H=f('<div class="mediaBoxes-play" />');if(N.lightboxPlayBtn){H.appendTo(ad)}var O=f('<i class="iconPlay" />').appendTo(H);var al=f('<div class="mediaBoxes-lbcaption" />').appendTo(ad).html("Here will go the text for the lightbox");var ar=f('<div class="mediaBoxes-next" />').appendTo(ad);var az=f('<i class="iconNext" />').appendTo(ar);var K=f('<div class="mediaBoxes-prev" />').appendTo(ad);var P=f('<i class="iconPrev" />').appendTo(K);var ak=f('<div class="lightbox-timer" />').appendTo(X);var w=ag.width();var af=3;if(N.lightboxPlayBtn){af=4}var m=function(){var aG=X.outerWidth();if(aG<650){al.hide();ar.css("width",(aG/af));K.css("width",(aG/af));H.css("width",(aG/af));ag.css("width",aG-((aG/af)*(af-1)))}else{al.show();ar.css("width",w);K.css("width",w);H.css("width",w);ag.css("width",w)}var aD=X.find("img");var aF=X.outerHeight()-ad.outerHeight();aD.css("max-height",aF);var aE=X.find("iframe");var aF=X.outerHeight()-ad.outerHeight();if(aF!=0){aE.css("max-height",aF)}else{aE.css("max-height","none")}};jQuery(e).resize(function(){m()});var Z=new Image();var ac=function(){if(Z!=null){Z.onload=null;Z=null}X.find(".lightbox-alignment").remove();X.find(".lightbox-alignment2").remove();X.find("img").remove()};var u=function(){X.find("iframe").remove()};var U=function(){X.find(".lb-loader").remove()};var J=function(){X.append('<div class="lb-loader"/>')};X.attr("unselectable","on").css("user-select","none").on("selectstart",false);var T=function(){ak.stop(true,true).width(0)};var ay=function(){clearInterval(ao.interval)};var I=function(){if(N.lightBoxShowTimer==false){return}ak.css({position:"absolute",bottom:0}).animate({width:"100%"},N.lightBoxPlayInterval,"linear",function(){T()})};var aC=false;var ai=false;var W=function(){ao.interval=setTimeout(function(){r()},N.lightBoxPlayInterval);I()};var G=function(){if(aC&&ai==false){T();ay();W()}};var C=function(aE){if(aE[0]!=g){var aI=aE;var aD=f("<iframe ></iframe>");var aJ=aI[0];for(var aG=0;aG<aJ.attributes.length;aG++){var aF=aJ.attributes[aG];aD.attr(aF.name,aF.value)}X.append(aD.hide());var aH=aD[0];if(aH.attachEvent){aH.attachEvent("onload",function(){U();aD.fadeIn(N.lightBoxSpeedFx,function(){G()});m();Z=new Image()})}else{aH.onload=function(){U();aD.fadeIn(N.lightBoxSpeedFx,function(){G()});m();Z=new Image()}}return true}return false};var ap=f("<span />");var aB=function(aK,aO,aE,aL){ac();u();U();J();var aI=0;var aJ=0;if(aE!=true){aI=0.9;aJ=N.lightBoxSpeedFx}if(N.lightBoxZoomAnim==false){aI=1}var aF=aK;var aG=aF.data("lightbox");var aP=aF.siblings("div.lightbox-text").html();if(N.lightBoxText==false){aP=""}var aN="<div><div>"+aP+"</div></div>";al.html(aN);var aH=aO.find("div.lightbox-iframe");if(aL||aG==null){if(C(aH)){return}}if(aG==null){aG=aF.attr("src")}Z=new Image();var aD=f(Z);var aM=Z;Z.onload=function(){if(aM!=Z){return}U();var aR=f('<div class="lightbox-alignment"></div>').appendTo(X);var aQ=f('<div class="lightbox-alignment2"></div>').appendTo(aR);aQ.append(aD.css("margin-top",-ad.outerHeight()).hide().scale(aI));aD.fadeIn(aJ).animate({scale:"1"},{duration:N.lightBoxSpeedFx,complete:function(){G()}});m()};Z.src=aG;ap.stop(true);ap=f(Z)};var at=false;var B=function(aI,aF){at=true;var aJ=f(aI);var aH=f(aI).parents("div.box");var aE=aH.data("url");if(aE!=g){location.href=aE;return}if(N.lightBox==false){return}ai=false;t=x.find(".box").index(aH[0]);var aD=aJ.parents(".box").find(".box-image").children("img");var aG=N.lightBoxSpeedFx;if(aF){aG=0}ad.animate({"margin-top":0},aG);X.fadeIn(aG);aB(aD,aH,true,aF)};x.on("click","div.box .open-lightbox",function(){B(this)});x.on("click","div.box .open-lightbox-iframe",function(){B(this,true)});X.on("click","div",function(aD){aD.stopPropagation()});X.on("click","img",function(aD){aD.stopPropagation()});X.on("click",".lightbox-alignment",function(){an()});X.on("click",".lightbox-alignment2",function(){an()});X.on("click",function(){an()});ag.on("click",function(){an()});var an=function(){u();if(N.lightBoxStopPlayOnClose){H.removeClass("selected");aC=false}at=false;ai=true;T();ay();X.find(".lb-loader").remove();var aE=0;if(N.lightBoxZoomAnim==false){aE=1}var aD=X.find("img").stop().show();ad.animate({"margin-top":-ad.outerHeight()},N.lightBoxSpeedFx);if(aD[0]!=g){aD.animate({scale:aE},N.lightBoxSpeedFx,function(){X.fadeOut(100)})}else{X.fadeOut(100)}};var r=function(){ai=false;var aG=x.find(".box");t+=1;if(t>=aG.length){t=0}if(!aG.eq(t).is(":visible")||aG.eq(t).find(".box-image").children("img")[0]==g){var aD=t;for(var aF=0;aF<aG.length;aF++){aD++;if(aD>=aG.length){aD=0}if(aG.eq(aD).is(":visible")&&aG.eq(aD).find(".box-image").children("img")[0]!=g){t=aD;break}}}var aH=aG.eq(t);var aE=aH.find(".box-image").children("img");aB(aE,aH)};var Y=function(){ai=false;var aG=x.find(".box");t-=1;if(t<0){t=aG.length-1}if(!aG.eq(t).is(":visible")||aG.eq(t).find(".box-image").children("img")[0]==g){var aD=t;for(var aF=0;aF<aG.length;aF++){aD--;if(aD<0){aD=aG.length-1}if(aG.eq(aD).is(":visible")&&aG.eq(aD).find(".box-image").children("img")[0]!=g){t=aD;break}}}var aH=aG.eq(t);var aE=aH.find(".box-image").children("img");aB(aE,aH)};ar.on("click",function(){T();ay();r()});X.on("click","img",function(){T();ay();r()});K.on("click",function(){T();ay();Y()});f(document).keyup(function(aD){if(!N.lightboxKeyboardNav){return}if(aD.keyCode=="37"){if(at==false){return}T();ay();Y()}if(aD.keyCode=="39"){if(at==false){return}T();ay();r()}if(aD.keyCode==27){an()}});if(N.lightBoxAutoPlay){H.addClass("selected");aC=true}H.on("click",function(){E=f(this);if(E.hasClass("selected")){E.removeClass("selected");aC=false;T();ay()}else{E.addClass("selected");aC=true;W()}})};if(typeof j==="string"){var h=Array.prototype.slice.call(arguments,1);this.each(function(){var l=f.data(this,"mediaBoxes");if(!l){c("cannot call methods on mediaBoxes prior to initialization; attempted to call method '"+j+"'");return}if(!f.isFunction(l[j])||j.charAt(0)==="_"){c("no such method '"+j+"' for mediaBoxes instance");return}l[j].apply(l,h)})}else{this.each(function(){var l=f.data(this,"mediaBoxes");if(l){l.option(j||{});l._init()}else{i(this);f.data(this,"mediaBoxes",new f.MediaBoxes(j,this));k(this)}})}return this};f.fn.mediaBoxes.defaults={theme:"",showFilterBar:true,imagesToLoad:4,imagesToLoadStart:8,lazyLoad:true,isFitWidth:false,horizontalSpaceBetweenThumbnails:15,verticalSpaceBetweenThumbnails:15,columnWidth:"auto",columns:5,columnMinWidth:220,isAnimated:true,caption:true,captionType:"grid",hoverImageIconsAnimation:true,hoverImageIconsSpeedAnimation:100,lightBox:true,lightboxKeyboardNav:true,lightBoxSpeedFx:500,lightBoxZoomAnim:true,lightBoxText:true,lightboxPlayBtn:true,lightBoxAutoPlay:false,lightBoxPlayInterval:4000,lightBoxShowTimer:true,lightBoxStopPlayOnClose:false,allWord:"All",loadMoreWord:"LOAD MORE ENTRIES",noAll:false,defaultCategory:"all",hiddenStyle:{opacity:0,scale:0.001},visibleStyle:{opacity:1,scale:1}}})(window,jQuery);